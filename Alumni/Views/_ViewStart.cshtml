@*@{
    Layout = "~/Views/Shared/_Layout.cshtml";
}*@
@{
    string[] mobileAgents = { "iphone", "android", "phone", "mobile", "wap", "netfront", "java", "opera mobi", "opera mini", "ucweb", "windows ce", "symbian", "series", "webos", "sony", "blackberry", "dopod", "nokia", "samsung", "palmsource", "xda", "pieplus", "meizu", "midp", "cldc", "motorola", "foma", "docomo", "up.browser", "up.link", "blazer", "helio", "hosin", "huawei", "novarra", "coolpad", "webos", "techfaith", "palmsource", "alcatel", "amoi", "ktouch", "nexian", "ericsson", "philips", "sagem", "wellcom", "bunjalloo", "maui", "smartphone", "iemobile", "spice", "bird", "zte-", "longcos", "pantech", "gionee", "portalmmm", "jig browser", "hiptop", "benq", "haier", "^lct", "320x320", "240x320", "176x220", "w3c ", "acs-", "alav", "alca", "amoi", "audi", "avan", "benq", "bird", "blac", "blaz", "brew", "cell", "cldc", "cmd-", "dang", "doco", "eric", "hipt", "inno", "ipaq", "java", "jigs", "kddi", "keji", "leno", "lg-c", "lg-d", "lg-g", "lge-", "maui", "maxo", "midp", "mits", "mmef", "mobi", "mot-", "moto", "mwbp", "nec-", "newt", "noki", "oper", "palm", "pana", "pant", "phil", "play", "port", "prox", "qwap", "sage", "sams", "sany", "sch-", "sec-", "send", "seri", "sgh-", "shar", "sie-", "siem", "smal", "smar", "sony", "sph-", "symb", "t-mo", "teli", "tim-", "tosh", "tsm-", "upg1", "upsi", "vk-v", "voda", "wap-", "wapa", "wapi", "wapp", "wapr", "webc", "winw", "winw", "xda", "xda-", "googlebot-mobile" };

    bool isMoblie = false;
    string userAgent = HttpContext.Current.Request.UserAgent.ToString().ToLower();
    //排除 Windows 桌面系统或苹果桌面系统 
    if (!string.IsNullOrEmpty(userAgent) && !userAgent.Contains("macintosh") && (!userAgent.Contains("windows nt") || (userAgent.Contains("windows nt") && userAgent.Contains("compatible; msie 9.0;"))))
    {
        for (int i = 0; i < mobileAgents.Length; i++)
        {
            if (userAgent.ToLower().IndexOf(mobileAgents[i]) >= 0)
            {
                isMoblie = true;
                break;
            }
        }
    }

    var controller = ViewContext.RouteData.Values["controller"].ToString().ToLower();
    var action = ViewContext.RouteData.Values["action"].ToString().ToLower();

    string[] lController = new string[] { "manager", "totaldata","report", "certificate", "adminssion", "information","question", "group", "codemstr","mail" };
    string[] lAction = new string[] { "managerindex", "totaldataindex" , "totalreportindex", "instructionindex", "totalcertificateindex","totaladminissionindex",
    "signreportvw","signcertificatevw","signadminissionvw","totalinformationindex","totalquestionindex","groupindex","addgroupvw","index","addcodemstrvw",
    "updatecodemstrvw","mailindex","updatemailvw","addmailvw"};

    if (!isMoblie)
    {
        if (lController.Contains(controller))
        {
            if (lAction.Contains(action))
            {
                Layout = null;
            }
            else
            {
                Layout = "~/Views/Shared/_Layout.cshtml";
            }
        }
        else
        {
            Layout = "~/Views/Shared/_Layout.cshtml";
        }
    }
    else
    {
        Layout = "~/Views/Shared/_Layout.cshtml";
    }

    //if (lController.Contains(controller))
    //{
    //    if (lAction.Contains(action))
    //    {
    //        Layout = null;
    //    }
    //    else
    //    {
    //        Layout = "~/Views/Shared/_Layout.cshtml";
    //    }
    //}
    //else
    //{
    //    Layout = "~/Views/Shared/_Layout.cshtml";
    //}


}
<script type="text/javascript">
        var mobileAgent = new Array("iphone", "ipod", "ipad", "android", "mobile", "blackberry", "webos", "incognito", "webmate", "bada", "nokia", "lg", "ucweb", "skyfire");

        var browser = navigator.userAgent.toLowerCase();

    console.log(browser);
        var isMobile = false;

        for (var i = 0; i < mobileAgent.length; i++) {
            if (browser.indexOf(mobileAgent[i]) != -1) {
                isMobile = true;

                //alert(mobileAgent[i]);

                //location.href = '手机要访问页面的链接';
                console.log("移动端访问");
                $("#browser").val("mobile");
                Layout = null;

                break;
            } else {
                $("#browser").val("mobile");
                Layout = null;
                console.log("web端访问")
            }
        }

    console.log(isMobile);
</script>